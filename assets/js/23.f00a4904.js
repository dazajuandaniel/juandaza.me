(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{298:function(e,t,a){"use strict";a.r(t);var s=a(14),i=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"auto-scaling-groups"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#auto-scaling-groups"}},[e._v("#")]),e._v(" Auto Scaling Groups")]),e._v(" "),t("p",[e._v("Scale in/out to match increase/decrease load. Ensures we have a maximum/minimum machines running\n"),t("img",{attrs:{src:"/images/asg.png",alt:"asg"}})]),e._v(" "),t("h2",{attrs:{id:"attributes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#attributes"}},[e._v("#")]),e._v(" Attributes")]),e._v(" "),t("ol",[t("li",[e._v("Launch configuration\n"),t("ul",[t("li",[e._v("AMI + Instance Type")]),e._v(" "),t("li",[e._v("EC2 User Data")]),e._v(" "),t("li",[e._v("EBS")]),e._v(" "),t("li",[e._v("Security Groups")]),e._v(" "),t("li",[e._v("SSH Keys")])])]),e._v(" "),t("li",[e._v("Min/Max Capacity")]),e._v(" "),t("li",[e._v("Network + Subnets")]),e._v(" "),t("li",[e._v("Load Balancer information")]),e._v(" "),t("li",[e._v("Scaling Policies")])]),e._v(" "),t("h2",{attrs:{id:"alarms-rules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alarms-rules"}},[e._v("#")]),e._v(" Alarms/Rules")]),e._v(" "),t("p",[e._v("Scaling is possible based on "),t("code",[e._v("Cloudwatch Alarms")]),e._v(", "),t("code",[e._v("Rules")]),e._v(" or "),t("code",[e._v("Custom Metrics")]),e._v(". Possible metrics include avg utilization.")]),e._v(" "),t("h2",{attrs:{id:"scaling-policies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scaling-policies"}},[e._v("#")]),e._v(" Scaling Policies")]),e._v(" "),t("ol",[t("li",[e._v("Target Tracking Scaling:\n"),t("ul",[t("li",[e._v("Average ASG CPU to stay around 40%")])])]),e._v(" "),t("li",[e._v("Simple/Step Policy:\n"),t("ul",[t("li",[e._v("When Cloudwatch event is triggered, then add 2 units")])])]),e._v(" "),t("li",[e._v("Scheduled Actions:\n"),t("ul",[t("li",[e._v("Anticipate based on future events")])])])]),e._v(" "),t("p",[t("strong",[e._v("Scaling Cooldowns")])]),e._v(" "),t("p",[e._v("Helps ensure that the ASG doesn't launch or terminate additional instances before the previous scaling activity takes effect.")]),e._v(" "),t("h2",{attrs:{id:"rules-for-instances-being-terminated"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rules-for-instances-being-terminated"}},[e._v("#")]),e._v(" Rules for Instances Being Terminated")]),e._v(" "),t("p",[t("em",[e._v("Default Termination Policy")]),e._v(" -> By default tries to balance the number of instances in an AZ:\n1. Find the AZ with the most No. of instances\n2. Delete the one with the oldest launch config\n"),t("img",{attrs:{src:"/images/asg_default_termination.png",alt:"asg_default_termination"}})]),e._v(" "),t("h2",{attrs:{id:"lifecycle-hooks"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lifecycle-hooks"}},[e._v("#")]),e._v(" Lifecycle Hooks")]),e._v(" "),t("p",[e._v("Allows the user to to perform extra steps before going in service or after going into service. For example, to extract log files before the instance is terminated completely.\n"),t("img",{attrs:{src:"/images/asg_lifecycle_hooks.png",alt:"asg_lifecycle_hooks"}})]),e._v(" "),t("h2",{attrs:{id:"launch-template-vs-launch-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#launch-template-vs-launch-config"}},[e._v("#")]),e._v(" Launch Template vs Launch Config")]),e._v(" "),t("p",[t("strong",[e._v("Launch Config:")]),e._v(" Considered legacy -> Must be recreated every time")]),e._v(" "),t("p",[t("strong",[e._v("Launch Template:")]),e._v(" Newer")]),e._v(" "),t("ul",[t("li",[e._v("Can have multiple versions")]),e._v(" "),t("li",[e._v("Mix OnDemand & Spot instances")]),e._v(" "),t("li",[e._v("T2 unlimited burst feature")]),e._v(" "),t("li",[e._v("Create parameters subset")])]),e._v(" "),t("h2",{attrs:{id:"other-notes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#other-notes"}},[e._v("#")]),e._v(" Other Notes")]),e._v(" "),t("ul",[t("li",[e._v("Impose stress on Instance:"),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" stress\n")])])])])])])}),[],!1,null,null,null);t.default=i.exports}}]);