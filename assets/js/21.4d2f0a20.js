(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{379:function(e,t,a){"use strict";a.r(t);var s=a(42),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"ebs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs"}},[e._v("#")]),e._v(" EBS")]),e._v(" "),a("h2",{attrs:{id:"ebs-volume"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs-volume"}},[e._v("#")]),e._v(" EBS Volume")]),e._v(" "),a("p",[e._v("It is a Network Drive that can be attached to an instance (Network USB Stick). May add some latency.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/ebs_general.png",alt:"ebs_general"}})]),e._v(" "),a("h2",{attrs:{id:"ebs-snapshots"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs-snapshots"}},[e._v("#")]),e._v(" EBS Snapshots")]),e._v(" "),a("p",[e._v("Backup of the EBS Volume.")]),e._v(" "),a("ul",[a("li",[e._v("AWS allows to copy the snapshot across AZ or Regions\n"),a("img",{attrs:{src:"/images/ebs_snapshots.png",alt:"ebs_snapshots"}})])]),e._v(" "),a("h2",{attrs:{id:"ebs-volume-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs-volume-types"}},[e._v("#")]),e._v(" EBS Volume Types")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("gp2")]),e._v("/"),a("code",[e._v("gp3")]),e._v(" (SSD): General Purpose")]),e._v(" "),a("li",[a("code",[e._v("io2")]),e._v("/"),a("code",[e._v("io3")]),e._v(" (SSD): Highest performance")]),e._v(" "),a("li",[a("code",[e._v("stI")]),e._v(" (HDD): Low cost")]),e._v(" "),a("li",[a("code",[e._v("scI")]),e._v(" (HDD): Lowest cost\nEBS Volumes are characterized in Size, Throuhput & IOPS. "),a("strong",[e._v("Only "),a("code",[e._v("gp2")]),e._v(" and "),a("code",[e._v("gp3")]),e._v(" can be used as root volumes")]),e._v(".")])]),e._v(" "),a("p",[a("strong",[e._v("gp2 vs gp3")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[e._v("gp2")]),e._v(" "),a("th",{staticStyle:{"text-align":"center"}},[e._v("gp3")])])]),e._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[e._v("Size and IOPS are linked")]),e._v(" "),a("td",{staticStyle:{"text-align":"center"}},[e._v("Size and IOPS are independent")])])])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("gp2")]),e._v(" IOPS peak at ~5GB")])]),e._v(" "),a("p",[a("strong",[e._v("Provisioned IOPS (PIOPS)")])]),e._v(" "),a("ul",[a("li",[e._v("Useful for Critical Business Application")]),e._v(" "),a("li",[e._v("Application that needs more than 16k IOPS")]),e._v(" "),a("li",[e._v("io2/io3\n"),a("ul",[a("li",[e._v("Max PIOPS: 64k for Nitro EC2 & 32k for other")]),e._v(" "),a("li",[e._v("PIOPS can be increased independently")]),e._v(" "),a("li",[a("code",[e._v("io2")]),e._v(" -> Sub-millisecond latency & Max PIOPS of 256k with a PIOPS:Gb ratio of 1k:1")]),e._v(" "),a("li",[e._v("Supports EBS Multi Attach")])])])]),e._v(" "),a("p",[a("strong",[e._v("HDD")])]),e._v(" "),a("p",[e._v("Cannot be boot volumnes, good for Big Data or Data Warehousing.")]),e._v(" "),a("p",[e._v("More details, in the "),a("a",{attrs:{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"ebs-multi-attach"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs-multi-attach"}},[e._v("#")]),e._v(" EBS Multi Attach")]),e._v(" "),a("p",[e._v("Attach the same EBS volume to multiple instances in the same AZ - "),a("strong",[e._v("Only for "),a("code",[e._v("io1")]),e._v("/"),a("code",[e._v("io2")])]),e._v(". Used for very specific cases and application must be able to manage concurrent writes.")]),e._v(" "),a("h2",{attrs:{id:"ebs-encryption"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs-encryption"}},[e._v("#")]),e._v(" EBS Encryption")]),e._v(" "),a("p",[e._v("Implies the following:")]),e._v(" "),a("ul",[a("li",[e._v("Data at rest is encrypted")]),e._v(" "),a("li",[e._v("Data in flight is encrypted")]),e._v(" "),a("li",[e._v("Snapshots are encrypted")]),e._v(" "),a("li",[e._v("All volumes from snapshots are encrypted")]),e._v(" "),a("li",[e._v("Minimal impact on latency")]),e._v(" "),a("li",[e._v("Leverages keys from KMS")])]),e._v(" "),a("p",[e._v("How to encrypt an unencrypted volume?")]),e._v(" "),a("ol",[a("li",[e._v("Create an EBS snapshot")]),e._v(" "),a("li",[e._v("Encrypt the EBS snapshot (using copy)")]),e._v(" "),a("li",[e._v("Create a new EBS volume of snapshot")]),e._v(" "),a("li",[e._v("Attach encrypted volume to instance.")])]),e._v(" "),a("h2",{attrs:{id:"ebs-raid-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ebs-raid-options"}},[e._v("#")]),e._v(" EBS Raid Options")]),e._v(" "),a("p",[e._v("RAID is possible as long as the OS supports it. Doesn't live in the Console, has to be done at the OS level.")]),e._v(" "),a("ul",[a("li",[e._v("Raid 0 -> Increases performance\n"),a("ul",[a("li",[e._v("Combines 2 or more volumnes and gets the total disk space & I/O")]),e._v(" "),a("li",[e._v("Useful when more IOPS are required, i.e. 100k IOPS\n"),a("img",{attrs:{src:"/images/ebs_raid0.png",alt:"ebs_raid0"}})])])]),e._v(" "),a("li",[e._v("Raid 1 -> Increases fault tolerance\n"),a("ul",[a("li",[e._v("Mirrors volumes so has more fault tolerant")]),e._v(" "),a("li",[e._v("Uses 2 times the network throughput\n"),a("img",{attrs:{src:"/images/ebs_raid1.png",alt:"ebs_raid1"}})])])]),e._v(" "),a("li",[e._v("Raid 5 (Not recommended for EBS)")]),e._v(" "),a("li",[e._v("Raid 6 (Not recommended for EBS)")])]),e._v(" "),a("h2",{attrs:{id:"efs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#efs"}},[e._v("#")]),e._v(" EFS")]),e._v(" "),a("p",[e._v("Managed Network File System that can be mounted on many EC2 and works with multiple AZs. It is more expensive that EBS gp1/gp2.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/ebs_efs.png",alt:"ebs_efs"}})]),e._v(" "),a("ul",[a("li",[e._v("It uses Security Groups to control access")]),e._v(" "),a("li",[e._v("Works only with Linux, not Windows")]),e._v(" "),a("li",[e._v("Scales automatically")])]),e._v(" "),a("p",[a("strong",[e._v("Notes")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("EFS Scale:")]),e._v(" "),a("ul",[a("li",[e._v("1000s of concurrent NFS client and up to 10 GB+/second")]),e._v(" "),a("li",[e._v("Grow to Peta-byte scale automatically")])])]),e._v(" "),a("li",[a("p",[e._v("Options:")]),e._v(" "),a("p",[a("strong",[e._v("Performance Mode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("  * General Purpose (default)\n\n  * Max I/O: Higher latency but higher throughput\n")])])]),a("p",[a("strong",[e._v("Throughput Mode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("  * Bursting (1 TB = 50MiB/s + burst of up to 100MiB/s)\n\n  * Provisioned: set throughput regardless of storage size\n")])])]),a("p",[a("strong",[e._v("Storage tiers")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("  * Standard\n\n  * Infrequent Access\n")])])])])]),e._v(" "),a("h2",{attrs:{id:"ami"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ami"}},[e._v("#")]),e._v(" AMI")]),e._v(" "),a("p",[e._v("Customization of own software, configuration,etc. They are built for a "),a("code",[e._v("specific region")]),e._v(" & can be copied across regions.")]),e._v(" "),a("p",[e._v("Process:")]),e._v(" "),a("ol",[a("li",[e._v("Start EC2 instance and customize it")]),e._v(" "),a("li",[e._v("Stop the instance (data integrity)")]),e._v(" "),a("li",[e._v("Build an AMI - this will also create an EBS Snapshot")]),e._v(" "),a("li",[e._v("Launch instances from other AMIs")])]),e._v(" "),a("h2",{attrs:{id:"ec2-instance-store"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ec2-instance-store"}},[e._v("#")]),e._v(" EC2 Instance Store")]),e._v(" "),a("p",[e._v("EBS volumes lack performance due to network latency. For "),a("strong",[e._v("High Performance")]),e._v(" use "),a("code",[e._v("EC2 Instance Store")]),e._v(" but this is "),a("code",[e._v("ephemeral storage")]),e._v(" but one gets very High IOPS.")]),e._v(" "),a("ul",[a("li",[e._v("Better I/O performance")]),e._v(" "),a("li",[e._v("Good for buffer/cache")]),e._v(" "),a("li",[e._v("Risk of data loss if hardware fails")])]),e._v(" "),a("p",[a("strong",[e._v("Notes:")])]),e._v(" "),a("ul",[a("li",[e._v("Bound to an AZ")]),e._v(" "),a("li",[e._v("Multi Attach capability")]),e._v(" "),a("li",[e._v("To do cross AZ -> Via Snapshots")])])])}),[],!1,null,null,null);t.default=o.exports}}]);